{"version":3,"names":["_styleGuide","_interopRequireDefault","require","_constants","e","__esModule","default","MenuItemHeight","styleGuide","typography","callout","lineHeight","FONT_SCALE","spacing","exports","calculateMenuHeight","itemLength","separatorCount","menuAnimationAnchor","anchorPoint","itemWidth","itemsWithSeparatorLength","MenuHeight","splittetAnchorName","split","Center1","Center2","TyTop1","TyTop2","TxLeft1","MENU_WIDTH","TxLeft2","beginningTransformations","translateX","translateY","endingTransformations","getTransformOrigin","posX","windowWidth","bottom","distanceToLeft","Math","round","distanceToRight","position","majority","abs","MENU_TRANSFORM_ORIGIN_TOLERENCE"],"sources":["calculations.ts"],"sourcesContent":["import styleGuide from '../styleGuide';\nimport {\n  MENU_WIDTH,\n  MENU_TRANSFORM_ORIGIN_TOLERENCE,\n  FONT_SCALE,\n} from '../constants';\n\nexport const MenuItemHeight = () => {\n  'worklet';\n  return (\n    styleGuide.typography.callout.lineHeight * FONT_SCALE +\n    styleGuide.spacing * 2.5\n  );\n};\n\nexport const calculateMenuHeight = (\n  itemLength: number,\n  separatorCount: number\n) => {\n  'worklet';\n  return (\n    MenuItemHeight() * itemLength +\n    (itemLength - 1) +\n    separatorCount * styleGuide.spacing\n  );\n};\n\nexport type TransformOriginAnchorPosition =\n  | 'top-right'\n  | 'top-left'\n  | 'top-center'\n  | 'bottom-right'\n  | 'bottom-left'\n  | 'bottom-center';\n\nexport const menuAnimationAnchor = (\n  anchorPoint: TransformOriginAnchorPosition,\n  itemWidth: number,\n  itemLength: number,\n  itemsWithSeparatorLength: number\n) => {\n  'worklet';\n  const MenuHeight = calculateMenuHeight(itemLength, itemsWithSeparatorLength);\n  const splittetAnchorName: string[] = anchorPoint.split('-');\n\n  const Center1 = itemWidth;\n  const Center2 = 0;\n\n  const TyTop1 = -(MenuHeight / 2);\n  const TyTop2 = MenuHeight / 2;\n\n  const TxLeft1 = (MENU_WIDTH / 2) * -1;\n  const TxLeft2 = (MENU_WIDTH / 2) * 1;\n\n  return {\n    beginningTransformations: {\n      translateX:\n        splittetAnchorName[1] === 'right'\n          ? -TxLeft1\n          : splittetAnchorName[1] === 'left'\n          ? TxLeft1\n          : Center1,\n      translateY:\n        splittetAnchorName[0] === 'top'\n          ? TyTop1\n          : splittetAnchorName[0] === 'bottom'\n          ? TyTop1\n          : Center2,\n    },\n    endingTransformations: {\n      translateX:\n        splittetAnchorName[1] === 'right'\n          ? -TxLeft2\n          : splittetAnchorName[1] === 'left'\n          ? TxLeft2\n          : Center2,\n      translateY:\n        splittetAnchorName[0] === 'top'\n          ? TyTop2\n          : splittetAnchorName[0] === 'bottom'\n          ? -TyTop2\n          : Center2,\n    },\n  };\n};\n\nexport const getTransformOrigin = (\n  posX: number,\n  itemWidth: number,\n  windowWidth: number,\n  bottom?: boolean\n): TransformOriginAnchorPosition => {\n  'worklet';\n  const distanceToLeft = Math.round(posX + itemWidth / 2);\n  const distanceToRight = Math.round(windowWidth - distanceToLeft);\n\n  let position: TransformOriginAnchorPosition = bottom\n    ? 'bottom-right'\n    : 'top-right';\n\n  const majority = Math.abs(distanceToLeft - distanceToRight);\n\n  if (majority < MENU_TRANSFORM_ORIGIN_TOLERENCE) {\n    position = bottom ? 'bottom-center' : 'top-center';\n  } else if (distanceToLeft < distanceToRight) {\n    position = bottom ? 'bottom-left' : 'top-left';\n  }\n\n  return position;\n};\n"],"mappings":"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","ignoreList":[]}