{"version":3,"names":["React","useCallback","TouchableOpacity","Animated","useAnimatedStyle","Separator","styles","useInternal","CONTEXT_MENU_STATE","BORDER_LIGHT_COLOR","BORDER_DARK_COLOR","isEqual","getColor","AnimatedIcon","AnimatedTouchable","createAnimatedComponent","MenuItemComponent","item","isLast","state","theme","menuProps","borderStyles","borderBottomColor","value","borderBottomWidth","textColor","color","isTitle","isDestructive","handleOnPress","params","actionParams","text","onPress","END","createElement","Fragment","activeOpacity","style","menuItem","Text","menuItemTitleText","menuItemText","icon","name","size","withSeparator","MenuItem","memo"],"sources":["MenuItem.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { TouchableOpacity } from 'react-native';\nimport Animated, { useAnimatedStyle } from 'react-native-reanimated';\n\nimport Separator from './Separator';\nimport styles from './styles';\n\nimport { MenuItemProps } from './types';\nimport { useInternal } from '../../hooks';\nimport { CONTEXT_MENU_STATE } from '../../constants';\nimport { BORDER_LIGHT_COLOR, BORDER_DARK_COLOR } from './constants';\nimport isEqual from 'lodash.isequal';\nimport { getColor } from './calculations';\nimport { AnimatedIcon } from '../provider/Provider';\n\n// @ts-ignore\nconst AnimatedTouchable = Animated.createAnimatedComponent(TouchableOpacity);\n\ntype MenuItemComponentProps = {\n  item: MenuItemProps;\n  isLast?: boolean;\n};\n\nconst MenuItemComponent = ({ item, isLast }: MenuItemComponentProps) => {\n  const { state, theme, menuProps } = useInternal();\n\n  const borderStyles = useAnimatedStyle(() => {\n    const borderBottomColor =\n      theme.value === 'dark' ? BORDER_DARK_COLOR : BORDER_LIGHT_COLOR;\n\n    return {\n      borderBottomColor,\n      borderBottomWidth: isLast ? 0 : 1,\n    };\n  }, [theme, isLast, item]);\n\n  const textColor = useAnimatedStyle(() => {\n    return { color: getColor(item.isTitle, item.isDestructive, theme.value) };\n  }, [theme, item]);\n\n  const handleOnPress = useCallback(() => {\n    if (!item.isTitle) {\n      const params = menuProps.value.actionParams[item.text] || [];\n      if (item.onPress) item.onPress(...params);\n      state.value = CONTEXT_MENU_STATE.END;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state, item]);\n\n  return (\n    <>\n      <AnimatedTouchable\n        onPress={handleOnPress}\n        activeOpacity={!item.isTitle ? 0.4 : 1}\n        style={[styles.menuItem, borderStyles]}\n      >\n        <Animated.Text\n          style={[\n            item.isTitle ? styles.menuItemTitleText : styles.menuItemText,\n            textColor,\n          ]}\n        >\n          {item.text}\n        </Animated.Text>\n        {!item.isTitle &&\n          item.icon &&\n          (AnimatedIcon && typeof item.icon === 'string' ? (\n            <AnimatedIcon name={item.icon} size={18} style={textColor} />\n          ) : typeof item.icon === 'function' ? (\n            item.icon()\n          ) : null)}\n      </AnimatedTouchable>\n      {item.withSeparator && <Separator />}\n    </>\n  );\n};\n\nconst MenuItem = React.memo(MenuItemComponent, isEqual);\nexport default MenuItem;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,gBAAgB,QAAQ,cAAc;AAC/C,OAAOC,QAAQ,IAAIC,gBAAgB,QAAQ,yBAAyB;AAEpE,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,MAAM,MAAM,UAAU;AAG7B,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,kBAAkB,QAAQ,iBAAiB;AACpD,SAASC,kBAAkB,EAAEC,iBAAiB,QAAQ,aAAa;AACnE,OAAOC,OAAO,MAAM,gBAAgB;AACpC,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,YAAY,QAAQ,sBAAsB;;AAEnD;AACA,MAAMC,iBAAiB,GAAGX,QAAQ,CAACY,uBAAuB,CAACb,gBAAgB,CAAC;AAO5E,MAAMc,iBAAiB,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAA+B,CAAC,KAAK;EACtE,MAAM;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAGd,WAAW,CAAC,CAAC;EAEjD,MAAMe,YAAY,GAAGlB,gBAAgB,CAAC,MAAM;IAC1C,MAAMmB,iBAAiB,GACrBH,KAAK,CAACI,KAAK,KAAK,MAAM,GAAGd,iBAAiB,GAAGD,kBAAkB;IAEjE,OAAO;MACLc,iBAAiB;MACjBE,iBAAiB,EAAEP,MAAM,GAAG,CAAC,GAAG;IAClC,CAAC;EACH,CAAC,EAAE,CAACE,KAAK,EAAEF,MAAM,EAAED,IAAI,CAAC,CAAC;EAEzB,MAAMS,SAAS,GAAGtB,gBAAgB,CAAC,MAAM;IACvC,OAAO;MAAEuB,KAAK,EAAEf,QAAQ,CAACK,IAAI,CAACW,OAAO,EAAEX,IAAI,CAACY,aAAa,EAAET,KAAK,CAACI,KAAK;IAAE,CAAC;EAC3E,CAAC,EAAE,CAACJ,KAAK,EAAEH,IAAI,CAAC,CAAC;EAEjB,MAAMa,aAAa,GAAG7B,WAAW,CAAC,MAAM;IACtC,IAAI,CAACgB,IAAI,CAACW,OAAO,EAAE;MACjB,MAAMG,MAAM,GAAGV,SAAS,CAACG,KAAK,CAACQ,YAAY,CAACf,IAAI,CAACgB,IAAI,CAAC,IAAI,EAAE;MAC5D,IAAIhB,IAAI,CAACiB,OAAO,EAAEjB,IAAI,CAACiB,OAAO,CAAC,GAAGH,MAAM,CAAC;MACzCZ,KAAK,CAACK,KAAK,GAAGhB,kBAAkB,CAAC2B,GAAG;IACtC;IACA;EACF,CAAC,EAAE,CAAChB,KAAK,EAAEF,IAAI,CAAC,CAAC;EAEjB,oBACEjB,KAAA,CAAAoC,aAAA,CAAApC,KAAA,CAAAqC,QAAA,qBACErC,KAAA,CAAAoC,aAAA,CAACtB,iBAAiB;IAChBoB,OAAO,EAAEJ,aAAc;IACvBQ,aAAa,EAAE,CAACrB,IAAI,CAACW,OAAO,GAAG,GAAG,GAAG,CAAE;IACvCW,KAAK,EAAE,CAACjC,MAAM,CAACkC,QAAQ,EAAElB,YAAY;EAAE,gBAEvCtB,KAAA,CAAAoC,aAAA,CAACjC,QAAQ,CAACsC,IAAI;IACZF,KAAK,EAAE,CACLtB,IAAI,CAACW,OAAO,GAAGtB,MAAM,CAACoC,iBAAiB,GAAGpC,MAAM,CAACqC,YAAY,EAC7DjB,SAAS;EACT,GAEDT,IAAI,CAACgB,IACO,CAAC,EACf,CAAChB,IAAI,CAACW,OAAO,IACZX,IAAI,CAAC2B,IAAI,KACR/B,YAAY,IAAI,OAAOI,IAAI,CAAC2B,IAAI,KAAK,QAAQ,gBAC5C5C,KAAA,CAAAoC,aAAA,CAACvB,YAAY;IAACgC,IAAI,EAAE5B,IAAI,CAAC2B,IAAK;IAACE,IAAI,EAAE,EAAG;IAACP,KAAK,EAAEb;EAAU,CAAE,CAAC,GAC3D,OAAOT,IAAI,CAAC2B,IAAI,KAAK,UAAU,GACjC3B,IAAI,CAAC2B,IAAI,CAAC,CAAC,GACT,IAAI,CACO,CAAC,EACnB3B,IAAI,CAAC8B,aAAa,iBAAI/C,KAAA,CAAAoC,aAAA,CAAC/B,SAAS,MAAE,CACnC,CAAC;AAEP,CAAC;AAED,MAAM2C,QAAQ,gBAAGhD,KAAK,CAACiD,IAAI,CAACjC,iBAAiB,EAAEL,OAAO,CAAC;AACvD,eAAeqC,QAAQ","ignoreList":[]}